local P = game.Players.LocalPlayer
local Plrs = game:GetService("Players")
local RS = game:GetService("RunService")

local C = P.Character or P.CharacterAdded:Wait()
P.CharacterAdded:Connect(function(char) C = char end)

local Cam = workspace.CurrentCamera
local speed = 5 -- velocidad a la que la c√°mara sigue

local function getClosestPlayer()
	local closest = nil
	local minDist = math.huge
	if not C or not C:FindFirstChild("HumanoidRootPart") then return nil end
	local myPos = C.HumanoidRootPart.Position
	for _, plr in pairs(Plrs:GetPlayers()) do
		if plr ~= P and plr.Character and plr.Character:FindFirstChild("HumanoidRootPart") then
			local dist = (plr.Character.HumanoidRootPart.Position - myPos).Magnitude
			if dist < minDist then
				minDist = dist
				closest = plr
			end
		end
	end
	return closest
end

RS.RenderStepped:Connect(function(dt)
	local target = getClosestPlayer()
	if target and target.Character and target.Character:FindFirstChild("HumanoidRootPart") then
		local targetPos = target.Character.HumanoidRootPart.Position
		local camPos = Cam.CFrame.Position
		local newPos = camPos:Lerp(targetPos, dt*speed)
		Cam.CFrame = CFrame.new(newPos, newPos + Cam.CFrame.LookVector)
	end
end)
